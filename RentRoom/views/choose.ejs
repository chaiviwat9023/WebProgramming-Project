<%- include("partials/head") %>
<style>
  .slideshow-container {
      position: relative;
      width: 100%;
      height: 40vh; /* กำหนดความสูงเป็น 30% ของความสูงหน้าจอ */
      margin: auto;
      overflow: hidden;
  }
  
  .slide {
      display: none;
      width: 100%;
      height: 100%
  }

  img {
      width: 100%; 
      height: 100%;
      object-fit: cover; /* ควบคุมการแสดงผลของภาพให้พอดีกับพื้นที่ */
  }
  
  .room-card:hover {
    box-shadow: 0px 0px 10px 10px rgba(97, 97, 97, 0.1);
  }

  .room-cards-container {
    display: flex; 
    flex-direction: column;
    width: 75%;
  }

  .modal-body {
    text-align: left;
  }

  .modal-title {
    margin-left: 10px;
  }

  .modal-dialog {
    max-width: 700px; /* กำหนดขนาดสูงสุดของ modal */
    width: 100%; 
  }
</style>

<body>
  <%- include("partials/nav") %>
  <div class="content container-fluid" style="padding-left: 100px;">
    <div class="slideshow-container">
      <div class="slide">
          <img src="/images/counter.jpg" alt="Image 1">
      </div>
      <div class="slide">
          <img src="/images/grand.jpg" alt="Image 2">
      </div>
      <div class="slide">
          <img src="/images/lobby.jpeg" alt="Image 3">
      </div>
  </div>
  
    <h2 class="text-center m-4">เลือกห้องพัก </h2>
      <!-- Room Cards -->
      <div class="col-md-10 mx-auto">
        <div class="row">
          <% let roomNumber = 101; %>
          <% for (let i = 0; i < 8; i++) { %> <!-- ปรับจำนวนห้องให้เป็น 6 ห้อง (2 แถว) -->
            <div class="col-md-6 mb-4"> <!-- ปรับ col-md-3 เป็น col-md-6 เพื่อให้แต่ละห้องใช้ 50% ของแถว -->
              <div class="room-card card">
                <div class="row g-0">
                  <!-- รูปภาพ -->
                  <div class="col-12">
                    <img src="/images/deluxe.jpg" class="img-fluid rounded-top" 
                         style="object-fit: cover; width: 100%; height: 200px;" alt="Room Image">
                  </div>
          
                  <!-- รายละเอียด -->
                  <div class="col-12 d-flex flex-column">
                    <div class="card-body w-100 d-flex flex-column h-100 justify-content-between">
                      <!-- Room-->
                      <h5 class="card-title text-center">Room <%= roomNumber %></h5>
          
                      <!-- ราคา + ปุ่ม-->
                      <div class="text-center">
                        <h4 class="card-text fw-bold text-success mb-2">6,500 บาท</h4>
                        <a href="/rent" style="text-decoration: none;">
                          <button class="btn btn-primary me-2" data-bs-toggle="modal" 
                          data-bs-target="#confirmModal<%= roomNumber %>">
                          จอง
                          </button>
                        </a>
                        <button class="btn btn-secondary" data-bs-toggle="modal" style="color: white;"
                                data-bs-target="#viewRoomModal<%= roomNumber %>">
                          ดูห้องพัก
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
                            <!-- Modal สำหรับห้องแต่ละห้อง - View (รายละเอียดห้องเพิ่มเติม) -->
                            <div class="modal fade" id="viewRoomModal<%= roomNumber %>" tabindex="-1"
                              aria-labelledby="viewRoomModalLabel<%= roomNumber %>" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="viewRoomModalLabel<%= roomNumber %>">
                                      <i class="fas fa-door-open"></i> รายละเอียดห้อง <%= roomNumber %>
                                    </h5>
                                  </div>
                                  <div class="modal-body">
                                    <div class="container">
                                      <div class="row">
                                        <!-- รูปภาพห้อง -->
                                        <div class="col-md-6">
                                          <img src="/images/deluxe.jpg" class="img-fluid rounded" alt="Room <%= roomNumber %>">
                                        </div>
                                        <!-- ข้อมูลห้อง -->
                                        <div class="col-md-6">
                                          <h4><i class="fas fa-info-circle"></i> ข้อมูลห้อง
                                          </h4>
                                          <ul class="list-unstyled">
                                            <li><i class="fas fa-hashtag"></i> หมายเลขห้อง:
                                              <strong>
                                                <%= roomNumber %>
                                              </strong>
                                            </li>
                                            <li><i class="fas fa-expand"></i> ขนาดห้อง:
                                              <strong>28 ตร.ม.</strong>
                                            </li>
                                            <li><i class="fas fa-users"></i> รองรับ: <strong>2
                                                คน</strong></li>
                                            <li><i class="fas fa-building"></i> ชั้น:
                                              <strong>3</strong>
                                            </li>
                                            <li><i class="fas fa-couch"></i> เฟอร์นิเจอร์:
                                              <strong>มี</strong>
                                            </li>
                                          </ul>
          
                                          <h4><i class="fas fa-money-bill-wave"></i> ค่าใช้จ่าย
                                          </h4>
                                          <ul class="list-unstyled">
                                            <li><i class="fas fa-coins"></i> ค่าเช่า:
                                              <strong>6,500 บาท/เดือน</strong>
                                            </li>
                                            <li><i class="fas fa-hand-holding-usd"></i> มัดจำ:
                                              <strong>13,000 บาท (2 เดือน)</strong>
                                            </li>
                                            <li><i class="fas fa-bolt"></i> ค่าไฟ: <strong>8
                                                บาท/หน่วย</strong></li>
                                            <li><i class="fas fa-tint"></i> ค่าน้ำ: <strong>20
                                                บาท/หน่วย</strong></li>
                                            <li><i class="fas fa-wifi"></i> ค่าอินเทอร์เน็ต:
                                              <strong>ฟรี</strong>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
          
                                      <hr>
          
                                      <!-- สิ่งอำนวยความสะดวก -->
                                      <h4><i class="fas fa-concierge-bell"></i> สิ่งอำนวยความสะดวก
                                      </h4>
                                      <div class="row">
                                        <div class="col-md-4">
                                          <p><i class="fas fa-tv"></i> Smart TV 42 นิ้ว</p>
                                          <p><i class="fas fa-wind"></i> เครื่องปรับอากาศ</p>
                                          <p><i class="fas fa-blender"></i> ไมโครเวฟ</p>
                                        </div>
                                        <div class="col-md-4">
                                          <p><i class="fas fa-bed"></i> เตียงนอน 5 ฟุต</p>
                                          <p><i class="fas fa-shower"></i> เครื่องทำน้ำอุ่น</p>
                                          <p><i class="fas fa-refrigerator"></i> ตู้เย็น 7.5 คิว
                                          </p>
                                        </div>
                                        <div class="col-md-4">
                                          <p><i class="fas fa-parking"></i> ที่จอดรถ</p>
                                          <p><i class="fas fa-shield-alt"></i> ระบบคีย์การ์ด</p>
                                          <p><i class="fas fa-cctv"></i> กล้องวงจรปิด 24 ชม.</p>
                                        </div>
                                      </div>
          
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                      <i class="fas fa-times"></i> ปิด
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>                                            
          <% roomNumber++; %> <!-- เพิ่มหมายเลขห้องขึ้นไปเรื่อยๆ -->
        <% } %>
    </div>
  </div>

  <!-- Script ของ Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</body>

<script>
  let slideIndex = 0;

  function showSlides() {
      let slides = document.querySelectorAll('.slide');
      for (let i = 0; i < slides.length; i++) {
          slides[i].style.display = 'none';
      }
      slideIndex++;
      if (slideIndex > slides.length) { slideIndex = 1 }
      slides[slideIndex - 1].style.display = 'block';
      setTimeout(showSlides, 3000); 
  }

  showSlides(); // Initial call to start the slideshow
</script>
<%- include("partials/script") %>